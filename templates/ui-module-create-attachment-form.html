<form method="post" action="{{ post_action_url }}">
	{{ xsrf_form_html() }}

	<div class="create-attachment-form">

		{% if error_msg %}
		<p class="create-new-attachment-message message-error">{{ error_msg }}</p>
		{% end %}

		<fieldset class="create-new-attachment-field">
			<label class="title" for=filename">Name of file on disk:</label>
				<span class="required-form-field">*</span>
				<label class="help-info" for="dirpath">This can be the name of a file on disk, or the URL of a remote file.</label>
				<input type="text" name="filename" id="filename" size="80" value="{{ filename_init }}" />
		</fieldset>

		<fieldset class="create-new-attachment-field">
			<label class="title" for=dirpath">Directory path to file:</label>
				<label class="help-info" for="dirpath">... if the specified filename is not a URL and is not in any of ~/Downloads/, ~/Desktop/ or ~/
					<br />(which will be searched in that order).</label>
				<input type="text" name="dirpath" id="dirpath" size="80" value="{{ dirpath_init }}" />
		</fieldset>

		<fieldset class="create-new-attachment-field">
			<label class="title" for=new-filename">New name for file:</label>
				<label class="help-info" for="new-filename">... if you want to change the filename that will be shown in the list below.
					<br />Attachment filenames don't need to be unique, but informative names are recommended
					<br />and the filename suffix will be used to determine the file type.</label>
				<input type="text" name="new-filename" id="new-filename" size="40" value="{{ new_filename_init }}" />
		</fieldset>

		<fieldset class="create-new-attachment-field">
			<label class="title" for=short-descr">Short description of attachment:</label><br />
			<input type="text" name="short-descr" id="short-descr" size="80" value="{{ short_descr_init }}" />
		</fieldset>

		<fieldset class="create-new-attachment-field">
			<label class="title" for=source-url">Original source URL of file:</label><br />
				<label class="help-info" for="dirpath">The URL of the web-page on which you found the file.</label>
				<input type="text" name="source-url" id="source-url" size="80" value="{{ source_url_init }}" />
		</fieldset>

		<input type="submit" name="submit-button" value="Attach" id="attach-file" />

	</div>
</form>
